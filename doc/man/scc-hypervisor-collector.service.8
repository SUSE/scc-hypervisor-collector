.\" Automatically generated by Pandoc 2.9.2.1
.\"
.TH "scc-hypervisor-collector.service" "8" "June 2022" "" "scc-hypervisor-collector systemd integration"
.hy
.SH NAME
.PP
\f[B]scc-hypervisor-collector.service\f[R],
\f[B]scc-hypervisor-collector.timer\f[R] - \f[B]systemd(1)\f[R]
integration for \f[B]scc-hypervisor-collector(1)\f[R]
.SH SYNOPSIS
.PP
scc-hypervisor-collector.service
.PD 0
.P
.PD
scc-hypervisor-collector.timer
.SH DESCRIPTION
.PP
The \f[B]scc-hypervisor-collector.service\f[R] \f[B]systemd(1)\f[R] unit
will run the \f[B]scc-hypervisor-collector(1)\f[R] command as the
\f[B]scchvc\f[R] user when triggered, if a valid configuration has been
specified in the
\f[B]/var/lib/scchvc/.config/scc-hypervisor-collector\f[R].
.PP
The \f[B]scc-hypervisor-collector.timer\f[R] \f[B]systemd(1)\f[R] unit
will trigger the \f[B]scc-hypervisor-collector.service\f[R] on a daily
basis, randomly skewed by up to 15 minutes.
.SH CONFIGURATION
.PP
To take advantage of the \f[B]scc-hypervisor-collector.service\f[R], a
valid set of configuration settings must be created under the
\f[B]/var/lib/scchvc/.config/scc-hypervisor-collector\f[R] directory, as
documented in \f[B]scc-hypervisor-collector(5)\f[R].
.PP
Run \f[B]scc-hypervisor-collector --check\f[R] as the \f[B]scchvc\f[R]
user to validate that the settings are correct.
.SS TLS/SSL CERTIFICATES
.PP
The \f[B]virtual-host-gatherer(1)\f[R] framework doesn\[aq]t currently
permit the specification of certs that can be used to validate
connections to the specified hypervisors.
.PP
As such any certs that may be needed to securely connect to the
specified hypervisors will need to be registered with the system
certificate stores.
See \f[B]update-ca-certificates(8)\f[R] for details.
.SH CUSTOMIZATION
.PP
The \f[B]systemctl edit\f[R] mechanism can be used to customize either
of the \f[B]scc-hypervisor-collector.service\f[R] and
\f[B]scc-hypervisor-collector.timer\f[R] units.
.SS CHANGING WHICH USER THE SERVICE RUNS AS
.PP
To change the user that the \f[B]scc-hypervisor-collector.service\f[R]
runs the \f[B]scc-hypervisor-collector(1)\f[R] command as from the
\f[B]scchvc\f[R] service account to \f[B]someuser\f[R] (with group
membership \f[B]somegroup\f[R]), create a drop-in snippet with the
following content:
.IP
.nf
\f[C]
[Service]
User=someuser
Group=somegroup
\f[R]
.fi
.SS CHANGING WHEN THE TIMER TRIGGERS
.PP
To change the timer trigger from a daily cadence to a weekly cadence,
with a randomised skew of up to 6 hours rather than 15 minutes, create a
drop-in snippet with the following content:
.IP
.nf
\f[C]
[Timer]
OnCalendar=weekly
RandomizedDelaySec=6h
\f[R]
.fi
.SH AUTHORS
.PP
Originally developed by Fergal Mc Carthy (fmccarthy\[at]suse.com) and
Meera Belur (mbelur\[at]suse.com) for the SCC at SUSE LLC
(scc-feedback\[at]suse.de)
.SH LINKS
.PP
SUSE Customer Center: https://scc.suse.com
.PP
scc-hypervisor-collector on GitHub:
https://github.com/SUSE/scc-hypervisor-collector
.PP
virtual-host-gatherer on GitHub:
https://github.com/uyuni-project/virtual-host-gatherer
.SH SEE ALSO
.PP
\f[B]scc-hypervisor-collector(1)\f[R],
\f[B]scc-hypervisor-collector(5)\f[R], \f[B]systemd(1)\f[R]
